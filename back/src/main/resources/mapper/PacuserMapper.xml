<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heeexy.example.dao.PacuserDao">
  <insert id="addPacuser" parameterType="com.alibaba.fastjson.JSONObject">
    INSERT INTO pacuser
    (username, userphone, wxname, vps_id, comments)
    VALUES
    (#{username}, #{userphone}, #{wxname}, #{vpsId}, #{comments})
  </insert>

  <select id="countPacuser" resultType="Integer">
    SELECT count(0)
    FROM pacuser w
    WHERE w.delete_status = '1'
  </select>

  <select id="listpacuser" resultType="com.alibaba.fastjson.JSONObject">
    SELECT
    w.id                                         id,
    w.username                                username,
    w.userphone                              userphone,
    w.wxname                                wxname,
    w.vps_id                              vpsId,
    w.comments                                comments,
    date_format(w.create_time, '%Y.%m.%d %T') createTime
    FROM Pacuser w
    WHERE w.delete_status = '1'
    ORDER BY w.id DESC
    LIMIT #{offSet}, #{pageRow}
  </select>

  <update id="updatePacuser" parameterType="com.alibaba.fastjson.JSONObject">
    UPDATE pacuser
    SET
    username = #{username},
    userphone = #{userphone},
    wxname = #{wxname},
    vps_id = #{vpsId},
    comments = #{comments}
    WHERE id = #{id}
  </update>
</mapper>