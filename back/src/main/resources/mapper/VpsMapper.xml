<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heeexy.example.dao.VpsDao">
  <insert id="addVps" parameterType="com.alibaba.fastjson.JSONObject">
    INSERT INTO vps
    (vpsname, vpsipport)
    VALUES
    (#{vpsname}, #{vpsipport})
  </insert>

  <select id="countVps" resultType="Integer">
    SELECT count(0)
    FROM vps w
    WHERE w.delete_status = '1'
  </select>

  <select id="listVps" resultType="com.alibaba.fastjson.JSONObject">
    SELECT
    w.id                                      id,
    w.vpsname                                vpsname,
    w.vpsipport                                 vpsipport,
    date_format(w.create_time, '%Y.%m.%d %T') createTime
    FROM vps w
    WHERE w.delete_status = '1'
    ORDER BY w.id DESC
    LIMIT #{offSet}, #{pageRow}
  </select>

  <update id="updateVps" parameterType="com.alibaba.fastjson.JSONObject">
    UPDATE vps
    SET
    vpsname = #{vpsname},
    vpsipport = #{vpsipport}
    WHERE id = #{id}
  </update>
</mapper>